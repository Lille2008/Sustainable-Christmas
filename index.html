<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Sustainable Christmas Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #f7f3e8; /* Warm parchment */
            color: #2c3e50;
        }
        h1, h2, h3 {
            font-family: 'Merriweather', serif;
        }
        
        /* Snow Animation */
        .snowflake {
            position: fixed;
            top: -10px;
            z-index: 0;
            color: #d1d5db;
            font-size: 1em;
            opacity: 0.5;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        /* Timeline connector line */
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: repeating-linear-gradient(to bottom, #166534 0, #166534 10px, transparent 10px, transparent 20px);
            z-index: 0;
        }

        /* Card Hover Effects */
        .stop-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stop-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        /* Custom Scrollbar for Modal */
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .modal-content::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 4px;
        }

        /* AI Loading Spinner */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #166534;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Markdown-like styling for AI response */
        .ai-response ul { list-style-type: disc; padding-left: 1.5rem; margin-top: 0.5rem; }
        .ai-response li { margin-bottom: 0.25rem; }
        .ai-response strong { font-weight: 700; color: #166534; }

        /* Remove default marker for details summary */
        details > summary {
          list-style: none;
        }
        details > summary::-webkit-details-marker {
          display: none;
        }
    </style>
</head>
<body class="overflow-x-hidden min-h-screen relative">

    <!-- Snow Container (Populated by JS) -->
    <div id="snow-container" class="pointer-events-none"></div>

    <!-- Main Poster Container -->
    <main class="max-w-4xl mx-auto px-4 py-10 relative z-10">
        
        <!-- Header -->
        <header class="text-center mb-16 space-y-4">
            <div class="inline-block p-3 rounded-full bg-green-800 text-white mb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                </svg>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-green-900 tracking-tight">A Journey to a Sustainable Christmas</h1>
            <div class="max-w-2xl mx-auto text-lg text-gray-700 leading-relaxed">
                <p>Christmas is a season of joy and abundance, but it doesn't have to come at a heavy cost to the planet. Follow the path below to discover conscious choices to help you plan.</p>
            </div>
        </header>

        <!-- Roadmap / Timeline -->
        <div class="relative w-full max-w-3xl mx-auto pb-20">
            <!-- Central Line -->
            <div class="timeline-line"></div>

            <!-- Stops Container -->
            <div id="stops-container" class="space-y-12 md:space-y-24 relative">
                <!-- Stops will be injected here by JS -->
            </div>
            
            <!-- End Goal -->
            <div class="relative z-10 flex justify-center mt-16">
                <div class="bg-red-700 text-white px-8 py-4 rounded-xl shadow-lg transform rotate-[-2deg] border-4 border-yellow-400">
                    <h3 class="text-xl font-bold font-serif">Destination Reached: <br/> A Greener Holiday!</h3>
                </div>
            </div>
        </div>

    </main>

    <!-- Modal / Detail View -->
    <div id="info-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-95 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="modal-panel">
            
            <!-- Modal Header -->
            <div id="modal-header" class="h-28 shrink-0 bg-green-800 flex items-center justify-center relative">
                <div id="modal-icon" class="text-white bg-white bg-opacity-20 p-3 rounded-full backdrop-blur-md">
                    <!-- Icon inject -->
                </div>
                <button onclick="closeModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 focus:outline-none bg-black bg-opacity-20 rounded-full p-1 hover:bg-opacity-40 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="p-6 md:p-8 overflow-y-auto modal-content grow">
                <h2 id="modal-title" class="text-2xl font-bold text-gray-800 mb-2"></h2>
                <p id="modal-desc" class="text-gray-600 mb-6 text-lg"></p>

                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <h4 class="font-bold text-yellow-800 mb-2 uppercase text-xs tracking-wider">Actionable Steps</h4>
                    <ul id="modal-list" class="list-disc list-inside text-gray-700 space-y-1 text-sm">
                        <!-- List items inject -->
                    </ul>
                </div>

                <!-- Dynamic AI Tool Section (Hidden by default) -->
                <div id="ai-tool-section" class="mb-6 hidden">
                    <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-5 shadow-sm">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-xl">✨</span>
                            <h4 id="ai-tool-title" class="font-bold text-indigo-900">AI Assistant</h4>
                        </div>
                        <p id="ai-tool-desc" class="text-sm text-indigo-700 mb-3"></p>
                        
                        <div class="flex gap-2">
                            <input type="text" id="ai-input" class="w-full px-3 py-2 border border-indigo-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none" placeholder="...">
                            <button onclick="runAITool()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-bold transition flex items-center shrink-0">
                                <span id="ai-btn-text">Go</span>
                                <div id="ai-loader" class="loader ml-2 hidden border-indigo-200 border-t-white"></div>
                            </button>
                        </div>
                        
                        <!-- AI Result Area -->
                        <div id="ai-result" class="mt-3 text-sm text-gray-800 bg-white p-3 rounded-lg border border-indigo-100 hidden ai-response"></div>
                    </div>
                </div>

                <div>
                    <h4 class="font-bold text-gray-800 mb-3 border-b pb-1">Learn More</h4>
                    <div id="modal-resources" class="space-y-2">
                        <!-- Resources inject -->
                    </div>
                </div>
            </div>
            
            <div class="bg-gray-50 px-6 py-4 text-center shrink-0">
                <button onclick="closeModal()" class="text-sm font-bold text-green-700 hover:text-green-900 uppercase tracking-wide">Return to Path</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <section id="legal" class="bg-white border-t border-green-100 mt-10">
        <div class="max-w-4xl mx-auto px-4 py-8 space-y-4 text-sm text-gray-700">
            <h2 class="text-2xl font-bold text-green-900">Hinweise und Datenschutz (DE)</h2>
            <p>Dies ist ein rein schulisches, nicht kommerzielles Projekt. Es werden keine Cookies, Tracker oder eigene Nutzerkonten eingesetzt.</p>
            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                <h3 class="text-lg font-semibold text-yellow-800">Datenschutzerklärung</h3>
                <ul class="list-disc list-inside space-y-1">
                    <li>Server-Logs des Hosters (z. B. IP-Adresse, Uhrzeit) koennen automatisch anfallen und werden nur zur Sicherstellung des Betriebs genutzt.</li>
                    <li>Externe Inhalte: Tailwind CDN und Google Fonts laden von externen Servern; dabei koennen technische Daten wie IP-Adresse uebermittelt werden.</li>
                    <li>AI-Funktion: Bei Nutzung der Eingabefelder werden deine Texte an die verwendete AI-API gesendet, um eine Antwort zu erzeugen.</li>
                    <li>Keine Werbung, keine Profilbildung, keine Weitergabe der Daten durch uns.</li>
                    <li>Bitte keine personenbezogenen Daten eingeben.</li>
                </ul>
            </div>
            <div class="bg-green-50 border border-green-100 rounded p-4">
                <h3 class="text-lg font-semibold text-green-900">Kontakt / Verantwortlich</h3>
                <p>Schülerprojekt (nicht gewerblich).</p>
            </div>
    </section>

    <footer class="bg-green-900 text-green-100 py-6 text-center">
        <p class="text-sm">Schülerprojekt, keine kommerzielle Nutzung. Keine Gewähr. Siehe Datenschutz oben.</p>
    </footer>

    <script>
        const apiKey = ""; // System will provide API Key

        // Data for the Roadmap Stops
        const roadmapData = [
            {
                id: 1,
                title: "Wrap Smart",
                description: "Traditional wrapping paper is often laminated or dyed, making it unrecyclable. Switch to reusable or biodegradable alternatives to reduce landfill waste immediately.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>`,
                color: "bg-emerald-600",
                position: "left",
                list: [
                    "Use Furoshiki (Japanese fabric wrapping) techniques.",
                    "Repurpose old maps, newspapers, or sheet music.",
                    "Decorate with dried orange slices or pine sprigs.",
                    "Save gift bags and ribbons to reuse next year."
                ],
                resources: [
                    { title: "Furoshiki Wrapping Basics", content: "Furoshiki is a traditional Japanese method of using a single piece of cloth to wrap gifts. Lay the cloth flat, place the gift in the center, and tie opposite corners together. You can create beautiful knots and bows. It's reusable and elegant." },
                    { title: "Creative Recycled Wrapping", content: "Use old maps, newspapers, or even brown paper grocery bags. Decorate them with natural elements like sprigs of pine, dried orange slices, or twine. Get creative with stamps or hand-drawn designs." }
                ]
            },
            {
                id: 2,
                title: "Light Right",
                description: "Brighten the holidays without burning through energy. Efficient lighting choices save money and reduce the carbon footprint of your decorations.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>`,
                color: "bg-yellow-500",
                position: "right",
                list: [
                    "Switch all strands to LED bulbs (use 75% less energy).",
                    "Use timer plugs to ensure lights turn off at bedtime.",
                    "Opt for beeswax or soy candles over paraffin.",
                    "Limit outdoor display hours to prime evening time."
                ],
                resources: [
                    { title: "Why LEDs Matter", content: "LED holiday lights use up to 75% less energy than traditional incandescent bulbs and last up to 25 times longer. This significantly lowers your electricity bill and carbon footprint." },
                    { title: "Solar Power for Outdoors", content: "For outdoor displays, consider solar-powered lights. They charge during the day and automatically turn on at dusk, requiring no external power source." }
                ]
            },
            {
                id: 3,
                title: "Feast Local",
                description: "The average holiday meal travels 1,500 miles to reach your plate. Buying locally supports community farmers and drastically cuts transportation emissions.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>`,
                color: "bg-orange-600",
                position: "left",
                list: [
                    "Order a duck or turkey from a nearby butcher.",
                    "Visit winter farmers' markets for root vegetables.",
                    "Plan portions carefully to minimize food waste.",
                    "Compost all vegetable peelings and uncooked scraps."
                ],
                resources: [
                    { title: "Benefits of Local Food", content: "Buying from local farmers' markets or butchers reduces 'food miles,' ensuring fresher produce and supporting your local economy. Look for seasonal ingredients for the best flavor and environmental impact." },
                    { title: "Smart Leftover Planning", content: "Plan ahead for leftovers. Turkey makes great sandwiches, soups, and curries. Vegetable scraps can be used to make homemade broth. Store leftovers in clear containers so you don't forget them." }
                ],
                // AI Feature Configuration
                aiFeature: {
                    title: "Leftover Rescue",
                    description: "Don't waste food! Enter your leftover ingredients (e.g., turkey, potatoes, cranberries) and I'll suggest a creative recipe.",
                    placeholder: "Enter ingredients...",
                    promptPrefix: "I have these holiday leftovers: "
                }
            },
            {
                id: 4,
                title: "Gift Good",
                description: "Shift focus from quantity to quality. Choose items that last, support ethical labor, or offer experiences rather than physical clutter.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>`,
                color: "bg-red-600",
                position: "right",
                list: [
                    "Gift experiences (tickets, classes, memberships).",
                    "Support local artisans and craft markets.",
                    "Look for 'Fair Trade' certification on imported goods.",
                    "Give consumables (homemade cookies, jams) over trinkets."
                ],
                resources: [
                    { title: "Choosing Ethical Gifts", content: "Look for certifications like Fair Trade, B Corp, or organic. These ensure products are made ethically, respecting workers and the environment. Supporting local artisans is also a great way to give ethically." },
                    { title: "DIY Gift Ideas", content: "Homemade gifts are personal and thoughtful. Consider making baked goods, infused oils, homemade bath salts, or knitting a scarf. The time and effort put into a DIY gift often mean more than a store-bought item." }
                ],
                // AI Feature Configuration
                aiFeature: {
                    title: "Eco-Gift Matcher",
                    description: "Stuck on ideas? Describe who you are buying for, and I'll suggest 3 sustainable or experiential gifts.",
                    placeholder: "e.g., Mom who loves gardening & tea",
                    promptPrefix: "Suggest 3 sustainable, low-waste, or experiential gift ideas for someone who is described as: "
                }
            }
        ];

        // Render the Roadmap
        const container = document.getElementById('stops-container');

        roadmapData.forEach((stop) => {
            const isLeft = stop.position === 'left';
            
            const stopHTML = `
                <div class="flex items-center justify-between w-full md:flex-row flex-col group relative z-10">
                    <div class="hidden md:block w-5/12 ${isLeft ? 'order-1' : 'order-3'}"></div>

                    <div class="w-16 h-16 ${stop.color} rounded-full border-4 border-white shadow-lg flex items-center justify-center text-white z-20 cursor-pointer transform hover:scale-110 transition-transform duration-300 md:order-2 mb-4 md:mb-0 relative" onclick="openModal(${stop.id})">
                        ${stop.icon}
                    </div>

                    <div class="w-full md:w-5/12 bg-white p-6 rounded-lg shadow-md border-b-4 border-green-800 stop-card ${isLeft ? 'md:text-right order-3 md:order-1' : 'md:text-left order-3'} relative" onclick="openModal(${stop.id})">
                        <h3 class="text-xl font-bold text-gray-800 mb-1 flex items-center ${isLeft ? 'md:justify-end' : ''}">
                            ${stop.title}
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </h3>
                        <p class="text-sm text-gray-600 leading-relaxed">${stop.description}</p>
                        <span class="inline-block mt-3 text-xs font-bold text-green-700 uppercase tracking-wide border border-green-200 px-2 py-1 rounded bg-green-50">Click to explore</span>
                    </div>
                </div>
            `;
            container.innerHTML += stopHTML;
        });

        // Modal State
        let currentAIContext = null;

        // Modal Logic
        const modal = document.getElementById('info-modal');
        const modalPanel = document.getElementById('modal-panel');

        function openModal(id) {
            const data = roadmapData.find(s => s.id === id);
            if (!data) return;

            // Basic Population
            document.getElementById('modal-title').textContent = data.title;
            document.getElementById('modal-desc').textContent = data.description;
            document.getElementById('modal-header').className = `h-28 shrink-0 flex items-center justify-center relative ${data.color}`;
            document.getElementById('modal-icon').innerHTML = data.icon;

            // List
            const listEl = document.getElementById('modal-list');
            listEl.innerHTML = '';
            data.list.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                listEl.appendChild(li);
            });

            // AI Section Logic
            const aiSection = document.getElementById('ai-tool-section');
            const aiResult = document.getElementById('ai-result');
            
            if (data.aiFeature) {
                aiSection.classList.remove('hidden');
                document.getElementById('ai-tool-title').textContent = data.aiFeature.title;
                document.getElementById('ai-tool-desc').textContent = data.aiFeature.description;
                const input = document.getElementById('ai-input');
                input.placeholder = data.aiFeature.placeholder;
                input.value = ''; // clear previous input
                aiResult.classList.add('hidden');
                aiResult.innerHTML = '';
                currentAIContext = data.aiFeature;
            } else {
                aiSection.classList.add('hidden');
                currentAIContext = null;
            }

            // Resources
            const resourcesEl = document.getElementById('modal-resources');
            resourcesEl.innerHTML = '';
            data.resources.forEach(resource => {
                const details = document.createElement('details');
                details.className = "group bg-white rounded-lg border border-gray-200 overflow-hidden";
                
                const summary = document.createElement('summary');
                summary.className = "flex items-center justify-between p-3 font-medium text-green-700 cursor-pointer hover:bg-green-50 transition-colors focus:outline-none";
                summary.innerHTML = `
                    <span>${resource.title}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 group-open:rotate-180 transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                `;
                
                const content = document.createElement('div');
                content.className = "p-3 text-sm text-gray-600 border-t border-gray-100 bg-gray-50";
                content.textContent = resource.content;
                
                details.appendChild(summary);
                details.appendChild(content);
                resourcesEl.appendChild(details);
            });

            modal.classList.remove('hidden');
            setTimeout(() => {
                modalPanel.classList.remove('scale-95', 'opacity-0');
                modalPanel.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        async function runAITool() {
            if (!currentAIContext) return;
            
            const inputEl = document.getElementById('ai-input');
            const resultEl = document.getElementById('ai-result');
            const loader = document.getElementById('ai-loader');
            const btnText = document.getElementById('ai-btn-text');

            const userText = inputEl.value.trim();
            if (!userText) return;

            // UI Loading State
            btnText.textContent = "Thinking...";
            loader.classList.remove('hidden');
            resultEl.classList.add('hidden');
            inputEl.disabled = true;

            const finalPrompt = `${currentAIContext.promptPrefix} "${userText}". Keep the answer concise (max 3 sentences or bullet points).`;

            try {
                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
                    {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{ text: finalPrompt }]
                            }]
                        })
                    }
                );

                if (!response.ok) throw new Error('API Error');

                const data = await response.json();
                const aiText = data.candidates[0].content.parts[0].text;
                
                // Format basic markdown bolding to HTML
                const formattedText = aiText
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\n/g, '<br>');

                resultEl.innerHTML = formattedText;
                resultEl.classList.remove('hidden');

            } catch (error) {
                console.error(error);
                resultEl.textContent = "Sorry, I couldn't reach the North Pole server. Please try again!";
                resultEl.classList.remove('hidden');
            } finally {
                // Reset UI
                btnText.textContent = "Go";
                loader.classList.add('hidden');
                inputEl.disabled = false;
                inputEl.focus();
            }
        }

        function closeModal() {
            modalPanel.classList.remove('scale-100', 'opacity-100');
            modalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Trigger AI on Enter key
        document.getElementById('ai-input')?.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') runAITool();
        });

        // Snow Generation
        function createSnow() {
            const snowContainer = document.getElementById('snow-container');
            const snowflakesCount = 30; 
            for (let i = 0; i < snowflakesCount; i++) {
                const flake = document.createElement('div');
                flake.classList.add('snowflake');
                flake.innerHTML = '&#10052;';
                flake.style.left = Math.random() * 100 + 'vw';
                flake.style.animationDuration = (Math.random() * 3 + 2) + 's';
                flake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                flake.style.animationDelay = Math.random() * 5 + 's';
                snowContainer.appendChild(flake);
            }
        }
        createSnow();
    </script>
</body>
</html>
