<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Sustainable Christmas Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #f7f3e8; /* Warm parchment */
            color: #2c3e50;
        }
        h1, h2, h3 {
            font-family: 'Merriweather', serif;
        }
        
        /* Snow Animation */
        .snowflake {
            position: fixed;
            top: -10px;
            z-index: 0;
            color: #d1d5db;
            font-size: 1em;
            opacity: 0.5;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        /* Timeline connector line */
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: calc(100% - 120px); /* Stop before destination */
            background: repeating-linear-gradient(to bottom, #166534 0, #166534 10px, transparent 10px, transparent 20px);
            z-index: 0;
        }

        /* Desktop/Tablet straight path */
        @media (min-width: 768px) {
            .timeline-line {
                display: none; /* Hide straight line on desktop */
            }
            
            .timeline-svg {
                display: block; /* Show SVG path on desktop */
            }
        }
        
        @media (max-width: 767px) {
            .timeline-svg {
                display: none; /* Hide SVG path on mobile */
            }
        }

        /* Card Hover Effects */
        .stop-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stop-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        /* Custom Scrollbar for Modal */
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .modal-content::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 4px;
        }

        /* Remove default marker for details summary */
        details > summary {
          list-style: none;
        }
        details > summary::-webkit-details-marker {
          display: none;
        }
    </style>
</head>
<body class="overflow-x-hidden min-h-screen relative">

    <!-- Snow Container (Populated by JS) -->
    <div id="snow-container" class="pointer-events-none"></div>

    <!-- Main Poster Container -->
    <main class="max-w-4xl mx-auto px-4 py-10 relative z-10">
        
        <!-- Header -->
        <header class="text-center mb-16 space-y-4">
            <h1 class="text-4xl md:text-5xl font-bold text-green-900 tracking-tight">A Journey to a Sustainable Christmas</h1>
            <div class="max-w-2xl mx-auto text-lg text-gray-700 leading-relaxed">
                <p>Christmas is a season of joy and abundance, but it doesn't have to come at a heavy cost to the planet. Follow the path below to discover conscious choices to help you plan.</p>
            </div>
        </header>

        <!-- Roadmap / Timeline -->
        <div class="relative w-full max-w-3xl mx-auto pb-20">
            <!-- Central Line (Mobile) -->
            <div class="timeline-line"></div>
            
            <!-- SVG Straight Path (Desktop/Tablet) -->
            <svg class="timeline-svg absolute inset-0 w-full h-full pointer-events-none" id="timeline-svg">
                <!-- Path will be generated by JavaScript -->
            </svg>

            <!-- Stops Container -->
            <div id="stops-container" class="space-y-12 md:space-y-24 relative">
                <!-- Stops will be injected here by JS -->
            </div>
            
            <!-- End Goal -->
            <div class="relative z-10 flex justify-center mt-16">
                <div id="destination-card" class="bg-red-700 text-white px-8 py-4 rounded-xl shadow-lg transform rotate-[-2deg] border-4 border-yellow-400">
                    <h3 class="text-xl font-bold font-serif">Destination Reached: <br/> A Greener Holiday!</h3>
                </div>
            </div>
        </div>

    </main>

    <!-- Modal / Detail View -->
    <div id="info-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-95 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="modal-panel">
            
            <!-- Modal Header -->
            <div id="modal-header" class="h-28 shrink-0 bg-green-800 flex items-center justify-center relative">
                <div id="modal-icon" class="text-white bg-white bg-opacity-20 p-3 rounded-full backdrop-blur-md">
                    <!-- Icon inject -->
                </div>
                <button onclick="closeModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 focus:outline-none bg-black bg-opacity-20 rounded-full p-1 hover:bg-opacity-40 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="p-6 md:p-8 overflow-y-auto modal-content grow">
                <h2 id="modal-title" class="text-2xl font-bold text-gray-800 mb-2"></h2>
                <p id="modal-desc" class="text-gray-600 mb-6 text-lg"></p>

                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <h4 class="font-bold text-yellow-800 mb-2 uppercase text-xs tracking-wider">Actionable Steps</h4>
                    <ul id="modal-list" class="list-disc list-inside text-gray-700 space-y-1 text-sm">
                        <!-- List items inject -->
                    </ul>
                </div>
            </div>
            
            <div class="bg-gray-50 px-6 py-4 text-center shrink-0">
                <button onclick="closeModal()" class="text-sm font-bold text-green-700 hover:text-green-900 uppercase tracking-wide">Return to Path</button>
            </div>
        </div>
    </div>

    <!-- Furoshiki Modal -->
    <div id="furoshiki-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-95 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="furoshiki-modal-panel">
            
            <!-- Modal Header -->
            <div class="h-28 shrink-0 bg-emerald-600 flex items-center justify-center relative">
                <div class="text-white bg-white bg-opacity-20 p-3 rounded-full backdrop-blur-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>
                </div>
                <button onclick="closeFuroshikiModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 focus:outline-none bg-black bg-opacity-20 rounded-full p-1 hover:bg-opacity-40 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="p-6 md:p-8 overflow-y-auto modal-content grow">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Furoshiki Wrapping Basics</h2>
                <p class="text-gray-600 mb-4 text-base leading-relaxed">
                    Furoshiki is a traditional Japanese method of using a single piece of cloth to wrap gifts. 
                    Lay the cloth flat, place the gift in the center, and tie the corners. It's elegant and zero-waste.
                </p>
            </div>
            
            <div class="bg-gray-50 px-6 py-4 text-center shrink-0">
                <button onclick="closeFuroshikiModal()" class="text-sm font-bold text-green-700 hover:text-green-900 uppercase tracking-wide">Close</button>
            </div>
        </div>
    </div>

    <!-- Ribbon Modal -->
    <div id="ribbon-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-95 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="ribbon-modal-panel">
            
            <div class="h-28 shrink-0 bg-amber-600 flex items-center justify-center relative">
                <div class="text-white bg-white bg-opacity-20 p-3 rounded-full backdrop-blur-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8l8-4 8 4v8l-8 4-8-4V8z" /></svg>
                </div>
                <button onclick="closeRibbonModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 focus:outline-none bg-black bg-opacity-20 rounded-full p-1 hover:bg-opacity-40 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="p-6 md:p-8 overflow-y-auto modal-content grow">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Reusable Ribbons</h2>
                <p class="text-gray-600 mb-4 text-base leading-relaxed">
                    Choose fabric or sturdy ribbons that can be untied and saved for future gifts. Keeping a small stash lets you avoid single-use plastic bows while adding a special touch year after year.
                </p>
            </div>
            
            <div class="bg-gray-50 px-6 py-4 text-center shrink-0">
                <button onclick="closeRibbonModal()" class="text-sm font-bold text-green-700 hover:text-green-900 uppercase tracking-wide">Close</button>
            </div>
        </div>
    </div>

    <!-- Butcher Modal -->
    <div id="butcher-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-95 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="butcher-modal-panel">
            
            <div class="h-28 shrink-0 bg-orange-700 flex items-center justify-center relative">
                <div class="text-white bg-white bg-opacity-20 p-3 rounded-full backdrop-blur-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                </div>
                <button onclick="closeButcherModal()" class="absolute top-4 right-4 text-white hover:text-gray-200 focus:outline-none bg-black bg-opacity-20 rounded-full p-1 hover:bg-opacity-40 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="p-6 md:p-8 overflow-y-auto modal-content grow">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Why Buy from a Local Butcher?</h2>
                <p class="text-gray-600 mb-4 text-base leading-relaxed">
                    Local butchers can source meats from nearby farms, reducing transport emissions and supporting community producers. They can also help you choose the right size bird to avoid waste.
                </p>
            </div>
            
            <div class="bg-gray-50 px-6 py-4 text-center shrink-0">
                <button onclick="closeButcherModal()" class="text-sm font-bold text-green-700 hover:text-green-900 uppercase tracking-wide">Close</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <section id="legal" class="bg-white border-t border-green-100 mt-10">
        <div class="max-w-4xl mx-auto px-4 py-8 text-sm text-gray-700">
            <details class="rounded-lg border border-green-100 bg-white shadow-sm group">
                <summary class="flex items-center justify-between px-4 py-3 cursor-pointer select-none">
                    <span class="text-lg font-bold text-green-900">Hinweise und Datenschutz (DE)</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-700 group-open:rotate-180 transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </summary>
                <div class="px-4 pb-4 space-y-4">
                    <p>Dies ist ein rein schulisches, nicht kommerzielles Projekt. Es werden keine Cookies, Tracker oder eigene Nutzerkonten eingesetzt.</p>
                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                        <h3 class="text-lg font-semibold text-yellow-800">Datenschutzerklärung</h3>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Server-Logs des Hosters (z. B. IP-Adresse, Uhrzeit) können automatisch anfallen und werden nur zur Sicherstellung des Betriebs genutzt.</li>
                            <li>Externe Inhalte: Tailwind CDN und Google Fonts laden von externen Servern; dabei koennen technische Daten wie IP-Adresse uebermittelt werden.</li>
                            <li>Keine Chatbots oder Formulare aktiv; keine Profilbildung, keine Werbung.</li>
                        </ul>
                    </div>
                    <div class="bg-green-50 border border-green-100 rounded p-4">
                        <h3 class="text-lg font-semibold text-green-900">Kontakt / Verantwortlich</h3>
                        <p>Schülerprojekt (nicht gewerblich).</p>
                    </div>
                </div>
            </details>
        </div>
    </section>

    <footer class="bg-green-900 text-green-100 py-6 text-center">
        <p class="text-sm">A non-commercial student project for English Class, created with assistance from Gemini(AI).</p>
    </footer>

    <script>
        // Generate straight SVG path for desktop
        function generateStraightPath() {
            const svg = document.getElementById('timeline-svg');
            if (!svg || window.innerWidth < 768) return;
            
            // Get the wrapper element to determine true coordinate space
            const wrapper = svg.parentElement;
            const width = wrapper.offsetWidth;
            const height = wrapper.offsetHeight;
            
            // Wait for DOM to be ready and fully rendered
            setTimeout(() => {
                // Recalculate wrapper height after DOM is fully rendered
                const currentHeight = wrapper.offsetHeight;
                
                // Find destination element by its ID (added in HTML)
                const destination = document.getElementById('destination-card');
                
                let lineEndY = currentHeight; // Fallback
                
                if (destination) {
                    // Calculate center of destination relative to wrapper
                    const destRect = destination.getBoundingClientRect();
                    const wrapperRect = wrapper.getBoundingClientRect();
                    
                    const destTop = destRect.top - wrapperRect.top;
                    const destCenterY = destTop + (destRect.height / 2);
                    lineEndY = destCenterY;
                }
                
                // Set viewBox to match pixel dimensions, ensuring height is at least lineEndY
                const PATH_END_BUFFER = 100; // Buffer space beyond destination for visual comfort
                const viewBoxHeight = Math.max(currentHeight, lineEndY + PATH_END_BUFFER);
                svg.setAttribute('viewBox', `0 0 ${width} ${viewBoxHeight}`);
                // Ensure SVG itself takes defined size if not absolute, though inset-0 handles it
                
                // Build straight path - vertical line down the center of the container
                const centerX = width / 2;
                const pathData = `M ${centerX} 0 L ${centerX} ${lineEndY}`;
                
                // Clear existing path and create new one
                svg.innerHTML = '';
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', pathData);
                path.setAttribute('stroke', '#166534');
                path.setAttribute('stroke-width', '4');
                path.setAttribute('fill', 'none');
                path.setAttribute('stroke-dasharray', '10 10');
                path.setAttribute('stroke-linecap', 'round');
                
                svg.appendChild(path);
            }, 500);
        }
        
        // Update path on resize
        window.addEventListener('resize', generateStraightPath);

        // Data for the Roadmap Stops
        const roadmapData = [
            {
                id: 1,
                title: "Wrap Smart",
                description: "Traditional wrapping paper is often laminated or dyed, making it unrecyclable. Switch to reusable or biodegradable alternatives to reduce landfill waste immediately.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>`,
                color: "bg-emerald-600",
                position: "left",
                list: [
                    "Use Furoshiki (Japanese fabric wrapping) techniques.",
                    "Repurpose old maps, newspapers, or sheet music.",
                    "Save gift bags and ribbons to reuse next year."
                ]
            },
            {
                id: 2,
                title: "Light Right",
                description: "Brighten the holidays without burning through energy. Efficient lighting choices save money and reduce the carbon footprint of your decorations.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>`,
                color: "bg-yellow-500",
                position: "right",
                list: [
                    "Switch all strands to LED bulbs (use 75% less energy).",
                    "Use timer plugs to ensure lights turn off at bedtime.",
                    "Choose beeswax or soy candles over paraffin."
                ]
            },
            {
                id: 3,
                title: "Feast Local",
                description: "The average holiday meal travels 2,500 km to reach your plate. Buying locally supports community farmers and drastically cuts transportation emissions.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>`,
                color: "bg-orange-600",
                position: "left",
                list: [
                    "Order a duck or goose from a nearby butcher.",
                    "Visit winter farmers' markets for root vegetables.",
                    "Plan portions carefully to minimize food waste."
                ]
            },
            {
                id: 4,
                title: "Gift Good",
                description: "Shift focus from quantity to quality. Choose items that last, support ethical labor, or offer experiences rather than physical clutter.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>`,
                color: "bg-red-600",
                position: "right",
                list: [
                    "Gift experiences (tickets, classes, memberships).",
                    "Support local artisans and craft markets.",
                    "Give consumables (homemade cookies, jams) over trinkets."
                ]
            }
        ];

        // Render the Roadmap
        const container = document.getElementById('stops-container');

        roadmapData.forEach((stop) => {
            const stopHTML = `
                <div class="flex items-center justify-center w-full flex-col group relative z-10">
                    <div class="w-16 h-16 ${stop.color} rounded-full border-4 border-white shadow-lg flex items-center justify-center text-white z-20 cursor-pointer transform hover:scale-110 transition-transform duration-300">
                        ${stop.icon}
                    </div>

                    <div class="w-full md:w-5/12 bg-white p-6 rounded-lg shadow-md border-b-4 border-green-800 stop-card text-center relative" onclick="openModal(${stop.id})">
                        <h3 class="text-xl font-bold text-gray-800 mb-1 flex items-center justify-center">
                            ${stop.title}
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </h3>
                        <p class="text-sm text-gray-600 leading-relaxed">${stop.description}</p>
                        <span class="inline-block mt-3 text-xs font-bold text-green-700 uppercase tracking-wide border border-green-200 px-2 py-1 rounded bg-green-50">Click to explore</span>
                    </div>
                </div>
            `;
            container.innerHTML += stopHTML;
        });

        // Modal Logic
        const modal = document.getElementById('info-modal');
        const modalPanel = document.getElementById('modal-panel');

        function openModal(id) {
            const data = roadmapData.find(s => s.id === id);
            if (!data) return;

            // Basic Population
            document.getElementById('modal-title').textContent = data.title;
            document.getElementById('modal-desc').textContent = data.description;
            document.getElementById('modal-header').className = `h-28 shrink-0 flex items-center justify-center relative ${data.color}`;
            document.getElementById('modal-icon').innerHTML = data.icon;

            // List
            const listEl = document.getElementById('modal-list');
            listEl.innerHTML = '';
            data.list.forEach((item, index) => {
                const li = document.createElement('li');
                
                // Special handling for Furoshiki link in first stop
                if (data.id === 1 && index === 0) {
                    // Create clickable link for Furoshiki text
                    const beforeText = "Use ";
                    const linkText = "Furoshiki (Japanese fabric wrapping)";
                    const afterText = " techniques.";
                    
                    const textNode1 = document.createTextNode(beforeText);
                    const link = document.createElement('a');
                    link.href = "#";
                    link.textContent = linkText;
                    link.className = "text-green-700 underline hover:text-green-900 font-medium cursor-pointer";
                    link.onclick = (e) => {
                        e.preventDefault();
                        showFuroshikiModal();
                    };
                    const textNode2 = document.createTextNode(afterText);
                    
                    li.appendChild(textNode1);
                    li.appendChild(link);
                    li.appendChild(textNode2);
                } else if (data.id === 1 && item.includes('ribbons')) {
                    const beforeText = "Save gift bags and ";
                    const linkText = "ribbons";
                    const afterText = " to reuse next year.";

                    const textNode1 = document.createTextNode(beforeText);
                    const link = document.createElement('a');
                    link.href = "#";
                    link.textContent = linkText;
                    link.className = "text-green-700 underline hover:text-green-900 font-medium cursor-pointer";
                    link.onclick = (e) => {
                        e.preventDefault();
                        showRibbonModal();
                    };
                    const textNode2 = document.createTextNode(afterText);

                    li.appendChild(textNode1);
                    li.appendChild(link);
                    li.appendChild(textNode2);
                } else if (data.id === 3 && index === 0) {
                    const beforeText = "Order a duck or goose from a nearby ";
                    const linkText = "butcher";
                    const afterText = ".";

                    const textNode1 = document.createTextNode(beforeText);
                    const link = document.createElement('a');
                    link.href = "#";
                    link.textContent = linkText;
                    link.className = "text-green-700 underline hover:text-green-900 font-medium cursor-pointer";
                    link.onclick = (e) => {
                        e.preventDefault();
                        showButcherModal();
                    };
                    const textNode2 = document.createTextNode(afterText);

                    li.appendChild(textNode1);
                    li.appendChild(link);
                    li.appendChild(textNode2);
                } else {
                    li.textContent = item;
                }
                
                listEl.appendChild(li);
            });

            modal.classList.remove('hidden');
            setTimeout(() => {
                modalPanel.classList.remove('scale-95', 'opacity-0');
                modalPanel.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeModal() {
            modalPanel.classList.remove('scale-100', 'opacity-100');
            modalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Furoshiki Modal Logic
        const furoshikiModal = document.getElementById('furoshiki-modal');
        const furoshikiModalPanel = document.getElementById('furoshiki-modal-panel');

        function showFuroshikiModal() {
            furoshikiModal.classList.remove('hidden');
            setTimeout(() => {
                furoshikiModalPanel.classList.remove('scale-95', 'opacity-0');
                furoshikiModalPanel.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeFuroshikiModal() {
            furoshikiModalPanel.classList.remove('scale-100', 'opacity-100');
            furoshikiModalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                furoshikiModal.classList.add('hidden');
            }, 300);
        }

        furoshikiModal.addEventListener('click', (e) => {
            if (e.target === furoshikiModal) closeFuroshikiModal();
        });

        // Ribbon Modal Logic
        const ribbonModal = document.getElementById('ribbon-modal');
        const ribbonModalPanel = document.getElementById('ribbon-modal-panel');

        function showRibbonModal() {
            ribbonModal.classList.remove('hidden');
            setTimeout(() => {
                ribbonModalPanel.classList.remove('scale-95', 'opacity-0');
                ribbonModalPanel.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeRibbonModal() {
            ribbonModalPanel.classList.remove('scale-100', 'opacity-100');
            ribbonModalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                ribbonModal.classList.add('hidden');
            }, 300);
        }

        ribbonModal.addEventListener('click', (e) => {
            if (e.target === ribbonModal) closeRibbonModal();
        });

        // Butcher Modal Logic
        const butcherModal = document.getElementById('butcher-modal');
        const butcherModalPanel = document.getElementById('butcher-modal-panel');

        function showButcherModal() {
            butcherModal.classList.remove('hidden');
            setTimeout(() => {
                butcherModalPanel.classList.remove('scale-95', 'opacity-0');
                butcherModalPanel.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeButcherModal() {
            butcherModalPanel.classList.remove('scale-100', 'opacity-100');
            butcherModalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                butcherModal.classList.add('hidden');
            }, 300);
        }

        butcherModal.addEventListener('click', (e) => {
            if (e.target === butcherModal) closeButcherModal();
        });

        // Snow Generation
        function createSnow() {
            const snowContainer = document.getElementById('snow-container');
            const snowflakesCount = 30; 
            for (let i = 0; i < snowflakesCount; i++) {
                const flake = document.createElement('div');
                flake.classList.add('snowflake');
                flake.innerHTML = '&#10052;';
                flake.style.left = Math.random() * 100 + 'vw';
                flake.style.animationDuration = (Math.random() * 3 + 2) + 's';
                flake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                flake.style.animationDelay = Math.random() * 5 + 's';
                snowContainer.appendChild(flake);
            }
        }
        createSnow();
        
        // Generate straight path for desktop
        generateStraightPath();
    </script>
</body>
</html>
